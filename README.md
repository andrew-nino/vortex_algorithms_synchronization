# vortex_algorithms_synchronization
Тестовое задание

## Реализация сервиса синхронизации пользовательских алгоритмов:    
Микросервис, в котором реализовано управление клиентами из получаемых запросов - создание, обновление данных и удаление. А также обновление статусов алгоритмов для каждого клиента. В приложении работает логика проверки статусов пользовательских алгоритмов (по таймингу 5 минут). В зависимости от полученного состояния производится запуск или остановка подов для каждого из алгоритмов.
Была добавлена абстракция с менеджером, который имеет право управлением микросервисом. Для этого необходимо пройти регистрацию, получить JWT токен и использовать его для работы в заголовке Authorization как тип Bearer токен.
Исходя из того, что производится имитация создания подов, для более гибкого управления подами, была изменена сигнатура интерфейса Deployer - добавлен входящий параметр clientID int64 в методы CreatePod и DeletePod.
Сделаны Unit-тесты для всех основных функций.

Используемые технологии:
- PostgreSQL (в качестве основного хранилища данных)
- Docker (для запуска сервиса)
- Gin (веб фреймворк)
- golang-migrate/migrate (для миграций БД)
- sqlx (драйвер для работы с PostgreSQL)

Сервис был написан с Clean Architecture, что позволяет легко расширять функционал сервиса и тестировать его.
Также был реализован Graceful Shutdown для корректного завершения работы сервиса

# Getting Started

Перед запуском сервиса необходимо просмотреть параметры подключения, указанные в файле docker-compose.yaml и при необходимости заменить переменные окружения Postgres, а также порт для работы приложения и режим запуска фреймворка Gin. Выставить необходимый уровень логирования.

# Usage

Для просмотра всех доступных команд используйте `make help`

Собрать и запустить сервис можно с помощью команд `make build && make up`